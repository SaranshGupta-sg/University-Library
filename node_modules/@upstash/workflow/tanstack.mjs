import {
  SDK_TELEMETRY,
  serveBase,
  serveManyBase
} from "./chunk-QRCGBBFJ.mjs";

// platforms/tanstack.ts
var telemetry = {
  sdk: SDK_TELEMETRY,
  framework: "tanstack",
  runtime: `node@${process.version}`
};
function serve(routeFunction, options) {
  const POST = (tanstackContext) => {
    const { handler } = serveBase(
      routeFunction,
      telemetry,
      options
    );
    return handler(tanstackContext.request);
  };
  return { POST };
}
var createWorkflow = (...params) => {
  const [routeFunction, options = {}] = params;
  return {
    options,
    workflowId: void 0,
    routeFunction
  };
};
var serveMany = (workflows, options) => {
  return {
    POST: serveManyBase({
      workflows,
      getUrl(context) {
        return context.request.url;
      },
      serveMethod: (...params) => serve(...params).POST,
      options
    }).handler
  };
};
export {
  createWorkflow,
  serve,
  serveMany
};
